<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Restaurant Sales Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <body id="appBody" class="min-h-screen bg-gradient-to-br from-pink-200 via-purple-200 to-indigo-200 dark:from-gray-900 dark:via-gray-950 dark:to-black p-4 transition-colors duration-500">

  <script>
    
    tailwind.config = { darkMode: "class" }
  </script>
</head>
<body id="appBody" class="min-h-screen bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200 dark:from-gray-900 dark:via-gray-950 dark:to-gray-900 p-4 transition-colors duration-500">

  <!-- Header -->
  <div class="flex justify-between items-center mb-6 max-w-md mx-auto">
    <h1 class="text-2xl font-extrabold text-purple-700 dark:text-purple-300">ğŸ½ï¸ Sales Calculator</h1>
    <button id="darkModeToggle" class="bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-3 py-1 rounded-lg shadow hover:scale-105 transition">
      ğŸŒ™
    </button>
  </div>

  <!-- Input Form -->
  <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl max-w-md mx-auto">
    <form id="salesForm" class="space-y-5">

      <!-- Restaurant Online -->
      <div>
        <label for="restaurantOnline" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸ’³ Restaurant Online</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="restaurantOnline" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-purple-200 focus:ring-2 focus:ring-purple-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-purple-600 dark:text-white">
        </div>
      </div>

      <!-- Restaurant Cash -->
      <div>
        <label for="restaurantCash" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸ’µ Restaurant Cash</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="restaurantCash" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-blue-200 focus:ring-2 focus:ring-blue-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-blue-600 dark:text-white">
        </div>
      </div>

      <!-- Room Online -->
      <div>
        <label for="roomOnline" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸ’³ Room Online</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="roomOnline" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-green-200 focus:ring-2 focus:ring-green-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-green-600 dark:text-white">
        </div>
      </div>

      <!-- Room Cash -->
      <div>
        <label for="roomCash" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸ’µ Room Cash</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="roomCash" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-orange-200 focus:ring-2 focus:ring-orange-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-orange-600 dark:text-white">
        </div>
      </div>

      <!-- Discount -->
      <div>
        <label for="discount" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸŸï¸ Total Discount</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="discount" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-pink-200 focus:ring-2 focus:ring-pink-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-pink-600 dark:text-white">
        </div>
      </div>

      <!-- Pending -->
      <div>
        <label for="pending" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">â³ Pending Amount</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="pending" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-yellow-200 focus:ring-2 focus:ring-yellow-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-yellow-600 dark:text-white">
        </div>
      </div>

      <!-- Actual Cash -->
      <div>
        <label for="actualCash" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">ğŸ“² My Sale in App (GST + Non GST)</label>
        <div class="relative">
          <span class="absolute left-3 top-3 text-gray-500 dark:text-gray-300">â‚¹</span>
          <input type="number" id="actualCash" inputmode="numeric" placeholder="0" class="w-full pl-7 border border-teal-200 focus:ring-2 focus:ring-teal-400 p-3 rounded-xl text-lg dark:bg-gray-700 dark:border-teal-600 dark:text-white">
        </div>
      </div>

      <!-- Buttons -->
      <div class="flex gap-3">
        <button type="submit" class="flex-1 bg-gradient-to-r from-purple-500 to-blue-600 text-white p-3 rounded-xl text-lg font-semibold shadow-md hover:scale-105 transition">ğŸ” Calculate</button>
        <button type="button" id="resetBtn" class="flex-1 bg-red-500 text-white p-3 rounded-xl text-lg font-semibold shadow-md hover:scale-105 transition">ğŸ”„ Reset</button>
      </div>
    </form>
  </div>

  <!-- Summary -->
  <div id="summaryBox" class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl max-w-md mx-auto mt-6 opacity-0 transform scale-95 transition-all duration-500 ease-in-out">
    <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">ğŸ“Š Summary</h2>
    <ul id="summary" class="space-y-3 text-lg dark:text-gray-100"></ul>
  </div>

  <script>
    const body = document.getElementById("appBody");
    const darkModeToggle = document.getElementById("darkModeToggle");

    // Load saved theme
    if (localStorage.getItem("theme") === "dark") {
      body.classList.add("dark");
      darkModeToggle.textContent = "â˜€ï¸";
    }

    // Toggle dark mode
    darkModeToggle.addEventListener("click", () => {
      body.classList.toggle("dark");
      if (body.classList.contains("dark")) {
        localStorage.setItem("theme", "dark");
        darkModeToggle.textContent = "â˜€ï¸";
      } else {
        localStorage.setItem("theme", "light");
        darkModeToggle.textContent = "ğŸŒ™";
      }
    });

    // Calculate
    document.getElementById("salesForm").addEventListener("submit", e => {
      e.preventDefault();

      const restOnline = parseFloat(document.getElementById("restaurantOnline").value) || 0;
      const restCash = parseFloat(document.getElementById("restaurantCash").value) || 0;
      const roomOnline = parseFloat(document.getElementById("roomOnline").value) || 0;
      const roomCash = parseFloat(document.getElementById("roomCash").value) || 0;
      const discount = parseFloat(document.getElementById("discount").value) || 0;
      const pending = parseFloat(document.getElementById("pending").value) || 0;
      const actualCash = parseFloat(document.getElementById("actualCash").value) || 0;

      const totalCollected = restOnline + restCash + roomOnline + roomCash;
      const totalSale = totalCollected + discount + pending;
      const difference = actualCash - totalSale;

      let matchText = "";
      if (difference === 0) {
        matchText = `<span class="text-green-600 font-bold">âœ… Sale matches the total collected</span>`;
      } else if (difference > 0) {
        matchText = `<span class="text-blue-600 font-bold">â„¹ï¸ Extra Sale: ${difference}</span>`;
      } else {
        matchText = `<span class="text-red-600 font-bold">âš ï¸ Short Sale: ${Math.abs(difference)}</span>`;
      }

      document.getElementById("summary").innerHTML = `
        <li class="p-2 bg-purple-50 dark:bg-purple-900 rounded-lg"><b>Total Sale:</b> ${totalSale}</li>
        <li class="p-2 bg-pink-50 dark:bg-pink-900 rounded-lg"><b>Total Discount:</b> ${discount}</li>
        <li class="p-2 bg-yellow-50 dark:bg-yellow-900 rounded-lg"><b>Pending Amount:</b> ${pending}</li>
        <li class="p-2 bg-blue-50 dark:bg-blue-900 rounded-lg"><b>Restaurant Online:</b> ${restOnline}</li>
        <li class="p-2 bg-indigo-50 dark:bg-indigo-900 rounded-lg"><b>Restaurant Cash:</b> ${restCash}</li>
        <li class="p-2 bg-green-50 dark:bg-green-900 rounded-lg"><b>Room Online:</b> ${roomOnline}</li>
        <li class="p-2 bg-orange-50 dark:bg-orange-900 rounded-lg"><b>Room Cash:</b> ${roomCash}</li>
        <li class="p-2 bg-gray-50 dark:bg-gray-700 rounded-lg"><b>Total Collected:</b> ${totalCollected}</li>
        <li class="p-2 bg-teal-50 dark:bg-teal-900 rounded-lg"><b>My Sale in App:</b> ${actualCash}</li>
        <li class="mt-3">${matchText}</li>
      `;

      const summaryBox = document.getElementById("summaryBox");
      summaryBox.classList.remove("opacity-0", "scale-95");
      summaryBox.classList.add("opacity-100", "scale-100");
      summaryBox.scrollIntoView({ behavior: "smooth" });
    });

    // Reset button
    document.getElementById("resetBtn").addEventListener("click", () => {
      document.querySelectorAll("#salesForm input").forEach(input => input.value = "");
      const summaryBox = document.getElementById("summaryBox");
      summaryBox.classList.add("opacity-0", "scale-95");
    });
  </script>

</body>
</html>
